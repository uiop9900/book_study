## 67. 최적화는 신중히 해라.

### 🎃 빠른 프로그램 보다는 안전한 프로그램을 작성하라.

- 아키텍처의 결함이 성능을 제한하는 상황 → 시스템 전체를 수정하지 않고서는 해결하기 힘들다.
- 설계단계에서 성능을 반드시 염두해야한다. → 성능을 제한하는 설계는 피하라.

### 🎃 API 설계 시, 성능에 주는 영향을 고려하라.

- 예시) `Component`클래스의 `getSize` 메소드 → `Dimension` 인스턴스를 반환한다.
- `Dimension` 을 가변으로 설계해서 매번 새롭게 생성해 반환해야 한다.
- 만일 `Dimension` 을 불변으로 설계했다면?
- getSize, getWidth, getHeight를 나눴다면?
- → `Dimension` 객체의 기본 타입 값들을 따로따로 반환하는 방식이다.

### 🎃 잘 설계된 API는 성능도 보통 좋다.

- 성능을 위해 API를 왜곡하는 건 매우 안좋은 생각이다.

### 🎃 각각의 최적화 시도 전후로 성능을 측정하라.

- 프로그램에서 시간을 잡아먹는 부분을 추측하기 어렵다.
- 자바에서는 비교적 덜 명확하게 상대적인 비용을 정의하고 있다.
- 개발자가 작성하는 코드와 CPU에서 수행하는 명령 사이의 `추상화 격차` 가 커서 성능변화를 일정하게 예측하기 어렵다.